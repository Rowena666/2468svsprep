<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whiteout Survival - SVS Prep Week Signup</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #0a1a2a 0%, #1a2a3a 50%, #2a3a4a 100%);
            min-height: 100vh;
            color: #e0f2ff;
            overflow-x: auto;
        }

        .snow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .snowflake {
            position: absolute;
            color: #fff;
            user-select: none;
            pointer-events: none;
            animation: fall linear infinite;
        }

        @keyframes fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 2;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: linear-gradient(45deg, #1a4d66, #2d5a7a);
            padding: 30px;
            border-radius: 20px;
            border: 3px solid #4a9eff;
            box-shadow: 0 0 30px rgba(74, 158, 255, 0.3);
        }

        .title {
            font-size: 3em;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            background: linear-gradient(45deg, #4a9eff, #87ceeb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2em;
            color: #87ceeb;
            margin-bottom: 20px;
        }

        .countdown {
            font-size: 1.5em;
            color: #ff6b6b;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
        }

        .language-translator {
            background: rgba(26, 42, 58, 0.9);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 2px solid #4a9eff;
            box-shadow: 0 0 20px rgba(74, 158, 255, 0.2);
        }

        .translator-title {
            font-size: 1.5em;
            color: #4a9eff;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 0 0 10px rgba(74, 158, 255, 0.5);
        }

        .language-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .language-btn {
            background: linear-gradient(45deg, #4a9eff, #87ceeb);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(74, 158, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .language-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(74, 158, 255, 0.5);
        }

        .language-btn.active {
            background: linear-gradient(45deg, #90ee90, #66cc66);
            box-shadow: 0 0 20px rgba(144, 238, 144, 0.5);
        }

        .translation-notice {
            background: rgba(255, 215, 0, 0.2);
            border: 1px solid #ffd700;
            color: #ffd700;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-size: 14px;
            margin-top: 15px;
        }
        
        .signup-section {
            background: rgba(26, 42, 58, 0.9);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 2px solid #4a9eff;
            box-shadow: 0 0 20px rgba(74, 158, 255, 0.2);
        }

        .section-title {
            font-size: 2em;
            color: #4a9eff;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 0 0 10px rgba(74, 158, 255, 0.5);
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #87ceeb;
        }

        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #4a9eff;
            border-radius: 8px;
            background: rgba(26, 42, 58, 0.8);
            color: #e0f2ff;
            font-size: 16px;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #87ceeb;
            box-shadow: 0 0 10px rgba(135, 206, 235, 0.5);
        }

        /* Style for disabled/taken options */
        select option:disabled {
            background-color: #420d0d; /* Dark red for taken slots */
            color: #ccc; /* Lighter text for contrast */
        }

        .signup-btn {
            background: linear-gradient(45deg, #4a9eff, #87ceeb);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(74, 158, 255, 0.3);
        }

        .signup-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(74, 158, 255, 0.5);
        }

        .success {
            background: rgba(144, 238, 144, 0.2);
            border: 1px solid #90ee90;
            color: #90ee90;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .error {
            background: rgba(255, 107, 107, 0.2);
            border: 1px solid #ff6b6b;
            color: #ff6b6b;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .tabs {
            display: flex;
            margin-bottom: 20px;
            background: rgba(26, 42, 58, 0.9);
            border-radius: 15px;
            padding: 5px;
            border: 2px solid #4a9eff;
        }

        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            border-radius: 10px;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .tab.active {
            background: linear-gradient(45deg, #4a9eff, #87ceeb);
            color: white;
            box-shadow: 0 0 15px rgba(74, 158, 255, 0.5);
        }

        .tab:hover:not(.active) {
            background: rgba(74, 158, 255, 0.2);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .day-instructions {
            background: rgba(26, 42, 58, 0.9);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            border-left: 5px solid #4a9eff;
        }

        .day-instructions.current-day {
            background: linear-gradient(45deg, rgba(74, 158, 255, 0.2), rgba(135, 206, 235, 0.2));
            border-left: 5px solid #90ee90;
            border-right: 5px solid #90ee90;
            box-shadow: 0 0 20px rgba(144, 238, 144, 0.3);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 20px rgba(144, 238, 144, 0.3); }
            50% { box-shadow: 0 0 30px rgba(144, 238, 144, 0.6); }
            100% { box-shadow: 0 0 20px rgba(144, 238, 144, 0.3); }
        }

        .day-instructions.current-day .day-title {
            color: #90ee90;
            text-shadow: 0 0 10px rgba(144, 238, 144, 0.5);
        }

        .day-instructions.current-day .day-title:before {
            content: "ğŸŸ¢ ACTIVE: ";
            color: #90ee90;
            font-weight: bold;
        }

        .day-title {
            font-size: 1.5em;
            color: #4a9eff;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .day-icon {
            font-size: 1.2em;
            margin-right: 10px;
        }

        .instruction-list {
            list-style: none;
            margin-left: 20px;
        }

        .instruction-list li {
            margin-bottom: 8px;
            padding-left: 25px;
            position: relative;
        }

        .instruction-list li:before {
            content: "â„ï¸";
            position: absolute;
            left: 0;
        }

        .use-items {
            color: #90ee90;
        }

        .dont-use {
            color: #ff6b6b;
        }

        .optional {
            color: #ffd700;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(26, 42, 58, 0.9);
            padding: 20px;
            border-radius: 12px;
            border: 2px solid #4a9eff;
            text-align: center;
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #4a9eff;
        }

        .stat-label {
            color: #87ceeb;
            margin-top: 5px;
        }

        .participants-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .participant-card {
            background: rgba(42, 58, 74, 0.9);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #4a9eff;
            transition: transform 0.3s ease;
        }

        .participant-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(74, 158, 255, 0.3);
        }
        
        .loading {
            text-align: center;
            color: #87ceeb;
            font-style: italic;
        }

        @media (max-width: 768px) {
            .title {
                font-size: 2em;
            }
            
            .language-grid {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            }

            .tabs {
                flex-direction: column;
            }
            
            .participants-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="snow" id="snow"></div>
    
    <div class="container">
        <div class="header">
            <h1 class="title">ğŸ§Š WHITEOUT SURVIVAL</h1>
            <p class="subtitle" data-translate="subtitle">State vs State Prep Week - Rally Your Forces!</p>
            <div style="display: flex; justify-content: center; gap: 30px; margin: 15px 0; flex-wrap: wrap;">
                <div style="background: rgba(74, 158, 255, 0.2); padding: 10px 20px; border-radius: 25px; border: 2px solid #4a9eff;">
                    <span style="color: #4a9eff; font-weight: bold;">ğŸ›ï¸ STATE 2468</span>
                </div>
                <div style="background: rgba(255, 215, 0, 0.2); padding: 10px 20px; border-radius: 25px; border: 2px solid #ffd700;">
                    <span style="color: #ffd700; font-weight: bold;">ğŸ‘‘ PRESIDENT ROWENA</span>
                </div>
            </div>
            <div class="countdown" id="countdown"></div>
        </div>

        <div class="language-translator">
            <h3 class="translator-title" data-translate="translator-title">ğŸŒ Language Translator</h3>
            <div class="language-grid">
                <button class="language-btn active" onclick="translatePage('en')" id="lang-en">
                    ğŸ‡ºğŸ‡¸ English
                </button>
                <button class="language-btn" onclick="translatePage('ko')" id="lang-ko">
                    ğŸ‡°ğŸ‡· í•œêµ­ì–´
                </button>
                <button class="language-btn" onclick="translatePage('tr')" id="lang-tr">
                    ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e
                </button>
                <button class="language-btn" onclick="translatePage('fr')" onclick="translatePage('fr')" id="lang-fr">
                    ğŸ‡«ğŸ‡· FranÃ§ais
                </button>
                <button class="language-btn" onclick="translatePage('es')" id="lang-es">
                    ğŸ‡ªğŸ‡¸ EspaÃ±ol
                </button>
                <button class="language-btn" onclick="translatePage('zh-TW')" id="lang-zh-TW">
                    ğŸ‡¹ğŸ‡¼ ç¹é«”ä¸­æ–‡
                </button>
            </div>
            <div class="translation-notice" id="translationNotice" style="display: none;" data-translate="translation-notice">
                âš ï¸ Translation in progress... Please wait a moment.
            </div>
        </div>

        <div class="stats">
            <div class="stat-card">
                <div class="stat-number" id="totalSignups">0</div>
                <div class="stat-label" data-translate="total-signups">Total Signups</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="currentDay">-</div>
                <div class="stat-label" data-translate="current-day-label">Current Day (UTC)</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="availableTimeSlots">48</div>
                <div class="stat-label" data-translate="time-slots-count">Time Slots Available</div>
            </div>
        </div>

        <div class="signup-section">
            <h2 class="section-title" data-translate="join-battle">ğŸ¯ Join the Battle!</h2>
            <div id="message"></div>
            <form id="signupForm">
                <div class="form-group">
                    <label for="timeSlot" data-translate="time-slot">â° Time Slot (UTC):</label>
                    <select id="timeSlot" required>
                        </select>
                </div>
                
                <div class="form-group">
                    <label for="playerName" data-translate="player-name">ğŸ·ï¸ Player Name:</label>
                    <input type="text" id="playerName" data-translate="player-name-placeholder" placeholder="Enter your survivor name" required>
                </div>
                
                <div class="form-group">
                    <label for="playerId" data-translate="player-id">ğŸ†” Player ID:</label>
                    <input type="text" id="playerId" data-translate="player-id-placeholder" placeholder="Enter your player ID" required>
                </div>
                
                <button type="submit" class="signup-btn" id="submitBtn" data-translate="enlist-btn">â„ï¸ Enlist for Battle! â„ï¸</button>
            </form>
        </div>

        <div class="tabs">
            <div class="tab active" onclick="showTab('instructions')" data-translate="tab-instructions">ğŸ“‹ Instructions</div>
            <div class="tab" onclick="showTab('participants')" data-translate="tab-participants">ğŸ‘¥ Participants</div>
        </div>

        <div id="instructions" class="tab-content active">
            <h2 class="section-title" data-translate="svs-instructions-title">ğŸ“š SVS Prep Week Instructions (State of Power)</h2>
            
            <div class="day-instructions">
                <div class="day-title" data-translate="general-rules-title">
                    <span class="day-icon">âš ï¸</span> General Rules
                </div>
                <ul class="instruction-list use-items">
                    <li data-translate="general-rule1">â„ï¸ Wait for President Skills before using any speedups or upgrades</li>
                    <li data-translate="general-rule2">â„ï¸ Save stamina for Day 3 Beast Hunting</li>
                    <li data-translate="general-rule3">â„ï¸ Save Pet Upgrades for Day 5</li>
                </ul>
            </div>

            <div class="day-instructions" id="day1">
                <div class="day-title" data-translate="day1-title">
                    <span class="day-icon">ğŸ§±</span> Day 1 â€“ Construction Day
                </div>
                <p><strong class="use-items" data-translate="use-items-label">Use:</strong></p>
                <ul class="instruction-list use-items">
                    <li data-translate="day1-item1">â„ï¸ Fire Crystals</li>
                    <li data-translate="day1-item2">â„ï¸ Construction Speedups</li>
                    <li data-translate="day1-item3">â„ï¸ Chief Charms</li>
                </ul>
                <p><strong class="dont-use" data-translate="day1-caution">ğŸ›‘ Don't start early â€” wait for Construction Buff from President</strong></p>
            </div>

            <div class="day-instructions" id="day2">
                <div class="day-title" data-translate="day2-title">
                    <span class="day-icon">ğŸ§ </span> Day 2 â€“ Research Day
                </div>
                <p><strong class="use-items" data-translate="use-items-label">Use:</strong></p>
                <ul class="instruction-list use-items">
                    <li data-translate="day2-item1">â„ï¸ Research Speedups (ok to use â€” just wait for the buff!)</li>
                    <li data-translate="day2-item2">â„ï¸ Lucky Wheel Spins</li>
                    <li data-translate="day2-item3">â„ï¸ Hero Shards</li>
                    <li data-translate="day2-item4">â„ï¸ Resource Gathering</li>
                </ul>
                <p><strong class="optional" data-translate="optional-label">Optional:</strong></p>
                <ul class="instruction-list optional">
                    <li data-translate="day2-optional1">â„ï¸ Fire Crystals</li>
                </ul>
                <p><strong class="dont-use" data-translate="day2-caution1">ğŸ›‘ Save Pet Upgrades for Day 5</strong></p>
                <p><strong class="dont-use" data-translate="day2-caution2">ğŸ›‘ Do not call beast rallies â€” event lasts 48 hrs. Save for Day 3</strong></p>
            </div>

            <div class="day-instructions" id="day3">
                <div class="day-title" data-translate="day3-title">
                    <span class="day-icon">ğŸ¾</span> Day 3 â€“ Beast Hunting (F2P MVP Day)
                </div>
                <p><strong class="use-items" data-translate="use-items-label">Use:</strong></p>
                <ul class="instruction-list use-items">
                    <li data-translate="day3-item1">â„ï¸ Kill Lv.26+ beasts (10 stamina = 12,000 pts)</li>
                    <li data-translate="day3-item2">â„ï¸ Call Polar Terror rallies (25 stamina = 30,000 pts)</li>
                    <li data-translate="day3-item3">â„ï¸ Spend all saved stamina</li>
                </ul>
                <p><strong class="optional" data-translate="optional-label">Optional:</strong></p>
                <ul class="instruction-list optional">
                    <li data-translate="day3-optional1">â„ï¸ Lucky Wheel</li>
                    <li data-translate="day3-optional2">â„ï¸ Hero Shards</li>
                </ul>
                <p><strong class="dont-use" data-translate="day3-caution1">âš ï¸ Do NOT hit lower beasts â€“ bad points</strong></p>
                <p><strong class="dont-use" data-translate="day3-caution2">âš ï¸ Joining rallies gives you zero points â€” host or nothing</strong></p>
                <p><strong class="dont-use" data-translate="day3-caution3">ğŸ›‘ Still save Pet Upgrades</strong></p>
            </div>

            <div class="day-instructions" id="day4">
                <div class="day-title" data-translate="day4-title">
                    <span class="day-icon">âš”ï¸</span> Day 4 â€“ Troop Training Day
                </div>
                <p><strong class="use-items" data-translate="use-items-label">Use:</strong></p>
                <ul class="instruction-list use-items">
                    <li data-translate="day4-item1">â„ï¸ Train or Promote Troops</li>
                    <li data-translate="day4-item2">â„ï¸ Chief Gear Charms</li>
                    <li data-translate="day4-item3">â„ï¸ Training Speedups</li>
                </ul>
                <p><strong class="dont-use" data-translate="day4-caution1">â³ Wait for Troop Training Buff before starting</strong></p>
                <p><strong class="dont-use" data-translate="day4-caution2">ğŸ›‘ Still hold: Pet Upgrades, Hero Essence Stones, Hero Widgets, Chief Gear Upgrades, Leftover Research/Construction Speedups</strong></p>
            </div>

            <div class="day-instructions" id="day5">
                <div class="day-title" data-translate="day5-title">
                    <span class="day-icon">ğŸ¯</span> Day 5 â€“ Final Prep Dump
                </div>
                <p><strong class="use-items" data-translate="use-items-label">Use:</strong></p>
                <ul class="instruction-list use-items">
                    <li data-translate="day5-item1">â„ï¸ Chief Gear Upgrades</li>
                    <li data-translate="day5-item2">â„ï¸ Research (if anything left)</li>
                    <li data-translate="day5-item3">â„ï¸ Hero Essence Stones</li>
                    <li data-translate="day5-item4">â„ï¸ Hero Widgets</li>
                    <li data-translate="day5-item5">â„ï¸ Pet Upgrades</li>
                    <li data-translate="day5-item6">â„ï¸ ALL remaining speedups</li>
                </ul>
                <p><strong class="use-items" data-translate="day5-final-push">ğŸ‰ This is the big final push. Max your points. Go all in. No leftovers. No regrets.</strong></p>
            </div>
        </div>

        <div id="participants" class="tab-content">
            <h2 class="section-title" data-translate="enlisted-survivors-title">ğŸ‘¥ Enlisted Survivors</h2>
            <div class="participants-grid" id="participantGrid">
                <div class="loading" data-translate="loading-participants">Loading participants...</div>
            </div>
        </div>
    </div>

    <script>
        // Set the target date for Day 1 (July 14th, 00:00 UTC)
        const dayOneUTC = new Date(Date.UTC(2025, 6, 14, 0, 0, 0)); // Month is 0-indexed (July is 6)
        const prepWeekDurationDays = 7; // Prep week lasts 7 days

        // IMPORTANT: REPLACE THIS WITH YOUR DEPLOYED GOOGLE APPS SCRIPT WEB APP URL
        const GOOGLE_APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyieo5e5VNMEUDsicpCImv7z3OcfhKTTmPGIUVj5zHt_-ZsnRjvLGLNjh0c9ZZ_TcBH/exec'; 

        // Translation dictionaries
        const translations = {
            en: {
                'subtitle': 'State vs State Prep Week - Rally Your Forces!',
                'countdown-before': 'Countdown to Day 1: <span style="color: #87ceeb;">{days}d {hours}h {minutes}m {seconds}s</span>',
                'countdown-active': 'ğŸ”¥ PREP WEEK IS ACTIVE! Day <span id="activeDayDisplay" style="color: #90ee90;"></span> is live!',
                'countdown-ended': 'Prep Week has ended. Good luck in battle!',
                'translator-title': 'ğŸŒ Language Translator',
                'translation-notice': 'âš ï¸ Translation in progress... Please wait a moment.',
                'total-signups': 'Total Signups',
                'current-day-label': 'Current Day (UTC)',
                'time-slots-count': 'Time Slots Available',
                'join-battle': 'ğŸ¯ Join the Battle!',
                'time-slot': 'â° Time Slot (UTC):',
                'select-time-slot': 'Select your preferred time slot',
                'taken-slot': 'TAKEN',
                'player-name': 'ğŸ·ï¸ Player Name:',
                'player-name-placeholder': 'Enter your survivor name',
                'player-id': 'ğŸ†” Player ID:',
                'player-id-placeholder': 'Enter your player ID',
                'enlist-btn': 'â„ï¸ Enlist for Battle! â„ï¸',
                'tab-instructions': 'ğŸ“‹ Instructions',
                'tab-participants': 'ğŸ‘¥ Participants',
                'svs-instructions-title': 'ğŸ“š SVS Prep Week Instructions (State of Power)',
                'general-rules-title': 'âš ï¸ General Rules',
                'general-rule1': 'â„ï¸ Wait for President Skills before using any speedups or upgrades',
                'general-rule2': 'â„ï¸ Save stamina for Day 3 Beast Hunting',
                'general-rule3': 'â„ï¸ Save Pet Upgrades for Day 5',
                'use-items-label': 'Use:',
                'optional-label': 'Optional:',
                'day1-title': 'ğŸ§± Day 1 â€“ Construction Day',
                'day1-item1': 'â„ï¸ Fire Crystals',
                'day1-item2': 'â„ï¸ Construction Speedups',
                'day1-item3': 'â„ï¸ Chief Charms',
                'day1-caution': 'ğŸ›‘ Don\'t start early â€” wait for Construction Buff from President',
                'day2-title': 'ğŸ§  Day 2 â€“ Research Day',
                'day2-item1': 'â„ï¸ Research Speedups (ok to use â€” just wait for the buff!)',
                'day2-item2': 'â„ï¸ Lucky Wheel Spins',
                'day2-item3': 'â„ï¸ Hero Shards',
                'day2-item4': 'â„ï¸ Resource Gathering',
                'day2-optional1': 'â„ï¸ Fire Crystals',
                'day2-caution1': 'ğŸ›‘ Save Pet Upgrades for Day 5',
                'day2-caution2': 'ğŸ›‘ Do not call beast rallies â€” event lasts 48 hrs. Save for Day 3',
                'day3-title': 'ğŸ¾ 3. GÃ¼n â€“ Beast Hunting (F2P MVP Day)',
                'day3-item1': 'â„ï¸ Kill Lv.26+ beasts (10 stamina = 12,000 pts)',
                'day3-item2': 'â„ï¸ Call Polar Terror rallies (25 stamina = 30,000 pts)',
                'day3-item3': 'â„ï¸ Spend all saved stamina',
                'day3-optional1': 'â„ï¸ Lucky Wheel',
                'day3-optional2': 'â„ï¸ Hero Shards',
                'day3-caution1': 'âš ï¸ Do NOT hit lower beasts â€“ bad points',
                'day3-caution2': 'âš ï¸ Joining rallies gives you zero points â€” host or nothing',
                'day3-caution3': 'ğŸ›‘ Still save Pet Upgrades',
                'day4-title': 'âš”ï¸ Day 4 â€“ Troop Training Day',
                'day4-item1': 'â„ï¸ Train or Promote Troops',
                'day4-item2': 'â„ï¸ Chief Gear Charms',
                'day4-item3': 'â„ï¸ Training Speedups',
                'day4-caution1': 'â³ Wait for Troop Training Buff before starting',
                'day4-caution2': 'ğŸ›‘ Still hold: Pet Upgrades, Hero Essence Stones, Hero Widgets, Chief Gear Upgrades, Leftover Research/Construction Speedups',
                'day5-title': 'ğŸ¯ Day 5 â€“ Final Prep Dump',
                'day5-item1': 'â„ï¸ Chief Gear Upgrades',
                'day5-item2': 'â„ï¸ Research (if anything left)',
                'day5-item3': 'â„ï¸ Hero Essence Stones',
                'day5-item4': 'â„ï¸ Hero Widgets',
                'day5-item5': 'â„ï¸ Pet Upgrades',
                'day5-item6': 'â„ï¸ ALL remaining speedups',
                'day5-final-push': 'ğŸ‰ This is the big final push. Max your points. Go all in. No leftovers. No regrets.',
                'enlisted-survivors-title': 'ğŸ‘¥ Enlisted Survivors',
                'loading-participants': 'Loading participants...',
                'success-message': 'âœ… Successfully enlisted! Welcome to the battle, ',
                'error-slot-taken': 'This time slot is already taken. Please choose another one.',
                'participant-card-name': 'Player Name:',
                'participant-card-id': 'Player ID:',
                'participant-card-time': 'Time Slot:'
            },
            ko: {
                'subtitle': 'êµ­ê°€ ëŒ€ êµ­ê°€ ì¤€ë¹„ ì£¼ê°„ - êµ°ëŒ€ë¥¼ ì§‘ê²°í•˜ì„¸ìš”!',
                'countdown-before': '1ì¼ì°¨ê¹Œì§€ ì¹´ìš´íŠ¸ë‹¤ìš´: <span style="color: #87ceeb;">{days}ì¼ {hours}ì‹œ {minutes}ë¶„ {seconds}ì´ˆ</span>',
                'countdown-active': 'ğŸ”¥ ì¤€ë¹„ ì£¼ê°„ì´ ì§„í–‰ ì¤‘ì…ë‹ˆë‹¤! <span id="activeDayDisplay" style="color: #90ee90;"></span>ì¼ì°¨ê°€ ì‹œì‘ë©ë‹ˆë‹¤!',
                'countdown-ended': 'ì¤€ë¹„ ì£¼ê°„ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ì „íˆ¬ì—ì„œ í–‰ìš´ì„ ë¹•ë‹ˆë‹¤!',
                'translator-title': 'ğŸŒ ì–¸ì–´ ë²ˆì—­ê¸°',
                'translation-notice': 'âš ï¸ ë²ˆì—­ ì¤‘... ì ì‹œ ê¸°ë‹¤ë ¤ ì£¼ì„¸ìš”.',
                'total-signups': 'ì´ ë“±ë¡ì ìˆ˜',
                'current-day-label': 'í˜„ì¬ ì¼ (UTC)',
                'time-slots-count': 'ì‚¬ìš© ê°€ëŠ¥í•œ ì‹œê°„ëŒ€',
                'join-battle': 'ğŸ¯ ì „íˆ¬ì— ì°¸ì—¬í•˜ì„¸ìš”!',
                'time-slot': 'â° ì‹œê°„ëŒ€ (UTC):',
                'select-time-slot': 'ì„ í˜¸í•˜ëŠ” ì‹œê°„ëŒ€ë¥¼ ì„ íƒí•˜ì„¸ìš”',
                'taken-slot': 'ì˜ˆì•½ë¨',
                'player-name': 'ğŸ·ï¸ í”Œë ˆì´ì–´ ì´ë¦„:',
                'player-name-placeholder': 'ìƒì¡´ì ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”',
                'player-id': 'ğŸ†” í”Œë ˆì´ì–´ ID:',
                'player-id-placeholder': 'í”Œë ˆì´ì–´ IDë¥¼ ì…ë ¥í•˜ì„¸ìš”',
                'enlist-btn': 'â„ï¸ ì „íˆ¬ì— ì°¸ì—¬í•˜ê¸°! â„ï¸',
                'tab-instructions': 'ğŸ“‹ ì§€ì¹¨',
                'tab-participants': 'ğŸ‘¥ ì°¸ê°€ì',
                'svs-instructions-title': 'ğŸ“š SVS ì¤€ë¹„ ì£¼ê°„ ì§€ì¹¨ (ê¶Œë ¥ì˜ ìƒíƒœ)',
                'general-rules-title': 'âš ï¸ ì¼ë°˜ ê·œì¹™',
                'general-rule1': 'â„ï¸ ê°€ì† ë˜ëŠ” ì—…ê·¸ë ˆì´ë“œ ì‚¬ìš© ì „ ëŒ€í†µë ¹ ìŠ¤í‚¬ì„ ê¸°ë‹¤ë¦¬ì„¸ìš”',
                'general-rule2': 'â„ï¸ 3ì¼ì°¨ ì•¼ìˆ˜ ì‚¬ëƒ¥ì„ ìœ„í•´ ì²´ë ¥ì„ ì•„ë¼ì„¸ìš”',
                'general-rule3': 'â„ï¸ 5ì¼ì°¨ë¥¼ ìœ„í•´ í« ì—…ê·¸ë ˆì´ë“œë¥¼ ì•„ë¼ì„¸ìš”',
                'use-items-label': 'ì‚¬ìš©:',
                'optional-label': 'ì„ íƒ ì‚¬í•­:',
                'day1-title': 'ğŸ§± 1ì¼ì°¨ â€“ ê±´ì„¤ì˜ ë‚ ',
                'day1-item1': 'â„ï¸ ë¶ˆì˜ ê²°ì •',
                'day1-item2': 'â„ï¸ ê±´ì„¤ ê°€ì†',
                'day1-item3': 'â„ï¸ ì¡±ì¥ ë¶€ì ',
                'day1-caution': 'ğŸ›‘ ì¼ì° ì‹œì‘í•˜ì§€ ë§ˆì„¸ìš” â€” ëŒ€í†µë ¹ì˜ ê±´ì„¤ ë²„í”„ë¥¼ ê¸°ë‹¤ë¦¬ì„¸ìš”',
                'day2-title': 'ğŸ§  2ì¼ì°¨ â€“ ì—°êµ¬ì˜ ë‚ ',
                'day2-item1': 'â„ï¸ ì—°êµ¬ ê°€ì† (ì‚¬ìš©í•´ë„ ë©ë‹ˆë‹¤ â€” ë‹¨, ë²„í”„ë¥¼ ê¸°ë‹¤ë¦¬ì„¸ìš”!)',
                'day2-item2': 'â„ï¸ ëŸ­í‚¤ íœ  ìŠ¤í•€',
                'day2-item3': 'â„ï¸ ì˜ì›… ì¡°ê°',
                'day2-item4': 'â„ï¸ ìì› ìˆ˜ì§‘',
                'day2-optional1': 'â„ï¸ ë¶ˆì˜ ê²°ì •',
                'day2-caution1': 'ğŸ›‘ 5ì¼ì°¨ë¥¼ ìœ„í•´ í« ì—…ê·¸ë ˆì´ë“œë¥¼ ì•„ë¼ì„¸ìš”',
                'day2-caution2': 'ğŸ›‘ ì•¼ìˆ˜ ë ë¦¬ë¥¼ í˜¸ì¶œí•˜ì§€ ë§ˆì„¸ìš” â€” ì´ë²¤íŠ¸ëŠ” 48ì‹œê°„ ì§€ì†ë©ë‹ˆë‹¤. 3ì¼ì°¨ë¥¼ ìœ„í•´ ì•„ë¼ì„¸ìš”',
                'day3-title': 'ğŸ¾ 3ì¼ì°¨ â€“ ì•¼ìˆ˜ ì‚¬ëƒ¥ (F2P MVPì˜ ë‚ )',
                'day3-item1': 'â„ï¸ Lv.26+ ì•¼ìˆ˜ ì²˜ì¹˜ (ìŠ¤íƒœë¯¸ë‚˜ 10 = 12,000ì )',
                'day3-item2': 'â„ï¸ í´ë¼ í…ŒëŸ¬ ë ë¦¬ í˜¸ì¶œ (ìŠ¤íƒœë¯¸ë‚˜ 25 = 30,000ì )',
                'day3-item3': 'â„ï¸ ì €ì¥ëœ ëª¨ë“  ìŠ¤íƒœë¯¸ë‚˜ ì‚¬ìš©',
                'day3-optional1': 'â„ï¸ ëŸ­í‚¤ íœ ',
                'day3-optional2': 'â„ï¸ ì˜ì›… ì¡°ê°',
                'day3-caution1': 'âš ï¸ ë‚®ì€ ë ˆë²¨ ì•¼ìˆ˜ë¥¼ ì¹˜ì§€ ë§ˆì„¸ìš” â€“ ì ìˆ˜ê°€ ì¢‹ì§€ ì•ŠìŠµë‹ˆë‹¤',
                'day3-caution2': 'âš ï¸ ë ë¦¬ ì°¸ê°€ëŠ” 0ì ì…ë‹ˆë‹¤ â€” í˜¸ìŠ¤íŠ¸í•˜ê±°ë‚˜ ì•„ë¬´ê²ƒë„ í•˜ì§€ ë§ˆì„¸ìš”',
                'day3-caution3': 'ğŸ›‘ ì—¬ì „íˆ í« ì—…ê·¸ë ˆì´ë“œë¥¼ ì•„ë¼ì„¸ìš”',
                'day4-title': 'âš”ï¸ 4ì¼ì°¨ â€“ ë³‘ì‚¬ è¨“ç·´ì˜ ë‚ ',
                'day4-item1': 'â„ï¸ ë³‘ì‚¬ è¨“ç·´ ë˜ëŠ” ì§„ê¸‰',
                'day4-item2': 'â„ï¸ ì¡±ì¥ ì¥ë¹„ ë¶€ì ',
                'day4-item3': 'â„ï¸ è¨“ç·´ ê°€ì†',
                'day4-caution1': 'â³ ì‹œì‘ ì „ ë³‘ì‚¬ è¨“ç·´ ë²„í”„ë¥¼ ê¸°ë‹¤ë¦¬ì„¸ìš”',
                'day4-caution2': 'ğŸ›‘ ì—¬ì „íˆ ë³´ê´€: í« ì—…ê·¸ë ˆì´ë“œ, ì˜ì›… ì •ìˆ˜ ìŠ¤í†¤, ì˜ì›… ìœ„ì ¯, ì¡±ì¥ ì¥ë¹„ ì—…ê·¸ë ˆì´ë“œ, ë‚¨ì€ ì—°êµ¬/ê±´ì„¤ ê°€ì†',
                'day5-title': 'ğŸ¯ 5ì¼ì°¨ â€“ ìµœì¢… ì¤€ë¹„ ì •ë¦¬',
                'day5-item1': 'â„ï¸ ì¡±ì¥ ì¥ë¹„ ì—…ê·¸ë ˆì´ë“œ',
                'day5-item2': 'â„ï¸ ì—°êµ¬ (ë‚¨ì€ ê²½ìš°)',
                'day5-item3': 'â„ï¸ ì˜ì›… ì •ìˆ˜ ìŠ¤í†¤',
                'day5-item4': 'â„ï¸ ì˜ì›… ìœ„ì ¯',
                'day5-item5': 'â„ï¸ í« ì—…ê·¸ë ˆì´ë“œ',
                'day5-item6': 'â„ï¸ ëª¨ë“  ë‚¨ì€ ê°€ì†',
                'day5-final-push': 'ğŸ‰ ì´ê²ƒì´ ë§ˆì§€ë§‰ í° ì¶”ì§„ì…ë‹ˆë‹¤. ì ìˆ˜ë¥¼ ìµœëŒ€í™”í•˜ì„¸ìš”. ëª¨ë“  ê²ƒì„ ìŸì•„ë¶€ìœ¼ì„¸ìš”. ë‚¨ê¸°ì§€ ë§ˆì„¸ìš”. í›„íšŒí•˜ì§€ ë§ˆì„¸ìš”.',
                'enlisted-survivors-title': 'ğŸ‘¥ ë“±ë¡ëœ ìƒì¡´ì',
                'loading-participants': 'ì°¸ê°€ìë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...',
                'success-message': 'âœ… ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤! ì „íˆ¬ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤, ',
                'error-slot-taken': 'ì´ ì‹œê°„ëŒ€ëŠ” ì´ë¯¸ ì˜ˆì•½ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ì‹œê°„ëŒ€ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.',
                'participant-card-name': 'í”Œë ˆì´ì–´ ì´ë¦„:',
                'participant-card-id': 'í”Œë ˆì´ì–´ ID:',
                'participant-card-time': 'ì‹œê°„ëŒ€:'
            },
            tr: {
                'subtitle': 'Devletler ArasÄ± HazÄ±rlÄ±k HaftasÄ± - GÃ¼Ã§lerinizi ToplayÄ±n!',
                'countdown-before': '1. GÃ¼ne Geri SayÄ±m: <span style="color: #87ceeb;">{days}g {hours}s {minutes}dk {seconds}sn</span>',
                'countdown-active': 'ğŸ”¥ HAZIRLIK HAFTASI BAÅLADI! <span id="activeDayDisplay" style="color: #90ee90;"></span>. GÃ¼n canlÄ±!',
                'countdown-ended': 'HazÄ±rlÄ±k HaftasÄ± sona erdi. SavaÅŸta bol ÅŸans!',
                'translator-title': 'ğŸŒ Dil TercÃ¼manÄ±',
                'translation-notice': 'âš ï¸ Ã‡eviri devam ediyor... LÃ¼tfen bekleyin.',
                'total-signups': 'Toplam KayÄ±t',
                'current-day-label': 'Mevcut GÃ¼n (UTC)',
                'time-slots-count': 'Mevcut Zaman Dilimleri',
                'join-battle': 'ğŸ¯ SavaÅŸa KatÄ±l!',
                'time-slot': 'â° Zaman Dilimi (UTC):',
                'select-time-slot': 'Tercih ettiÄŸiniz zaman dilimini seÃ§in',
                'taken-slot': 'ALINDI',
                'player-name': 'ğŸ·ï¸ Oyuncu AdÄ±:',
                'player-name-placeholder': 'Hayatta kalan adÄ±nÄ±zÄ± girin',
                'player-id': 'ğŸ†” Oyuncu KimliÄŸi:',
                'player-id-placeholder': 'Oyuncu kimliÄŸinizi girin',
                'enlist-btn': 'â„ï¸ SavaÅŸa KatÄ±l! â„ï¸',
                'tab-instructions': 'ğŸ“‹ Talimatlar',
                'tab-participants': 'ğŸ‘¥ KatÄ±lÄ±mcÄ±lar',
                'svs-instructions-title': 'ğŸ“š SVS HazÄ±rlÄ±k HaftasÄ± TalimatlarÄ± (GÃ¼Ã§ Durumu)',
                'general-rules-title': 'âš ï¸ Genel Kurallar',
                'general-rule1': 'â„ï¸ Herhangi bir hÄ±zlandÄ±rma veya yÃ¼kseltme kullanmadan Ã¶nce BaÅŸkan Becerilerini bekleyin',
                'general-rule2': 'â„ï¸ 3. GÃ¼n Canavar AvÄ± iÃ§in dayanÄ±klÄ±lÄ±ÄŸÄ± saklayÄ±n',
                'general-rule3': 'â„ï¸ 5. GÃ¼n iÃ§in Evcil Hayvan YÃ¼kseltmelerini saklayÄ±n',
                'use-items-label': 'Kullan:',
                'optional-label': 'Ä°steÄŸe BaÄŸlÄ±:',
                'day1-title': 'ğŸ§± 1. GÃ¼n â€“ Ä°nÅŸaat GÃ¼nÃ¼',
                'day1-item1': 'â„ï¸ AteÅŸ Kristali',
                'day1-item2': 'â„ï¸ Ä°nÅŸaat HÄ±zlandÄ±rmalarÄ±',
                'day1-item3': 'â„ï¸ Åef TÄ±lsÄ±mlarÄ±',
                'day1-caution': 'ğŸ›‘ Erken baÅŸlamayÄ±n â€” BaÅŸkan\'dan Ä°nÅŸaat Takviyesi bekleyin',
                'day2-title': 'ğŸ§  2. GÃ¼n â€“ AraÅŸtÄ±rma GÃ¼nÃ¼',
                'day2-item1': 'â„ï¸ AraÅŸtÄ±rma HÄ±zlandÄ±rmalarÄ± (kullanÄ±labilir â€” sadece takviyeyi bekleyin!)',
                'day2-item2': 'â„ï¸ Åans Ã‡arkÄ± DÃ¶ndÃ¼rmeleri',
                'day2-item3': 'â„ï¸ Kahraman ParÃ§alarÄ±',
                'day2-item4': 'â„ï¸ Kaynak Toplama',
                'day2-optional1': 'â„ï¸ AteÅŸ Kristali',
                'day2-caution1': 'ğŸ›‘ 5. GÃ¼n iÃ§in Evcil Hayvan YÃ¼kseltmelerini saklayÄ±n',
                'day2-caution2': 'ğŸ›‘ Canavar topluluklarÄ±nÄ± Ã§aÄŸÄ±rmayÄ±n â€” etkinlik 48 saat sÃ¼rer. 3. GÃ¼n iÃ§in saklayÄ±n',
                'day3-title': 'ğŸ¾ 3. GÃ¼n â€“ Canavar AvÄ± (F2P MVP GÃ¼nÃ¼)',
                'day3-item1': 'â„ï¸ Lv.26+ canavarlarÄ± Ã¶ldÃ¼r (10 dayanÄ±klÄ±lÄ±k = 12.000 puan)',
                'day3-item2': 'â„ï¸ Kutup DehÅŸeti topluluklarÄ±nÄ± Ã§aÄŸÄ±r (25 dayanÄ±klÄ±lÄ±k = 30.000 puan)',
                'day3-item3': 'â„ï¸ Kaydedilen tÃ¼m dayanÄ±klÄ±lÄ±ÄŸÄ± harca',
                'day3-optional1': 'â„ï¸ Åans Ã‡arkÄ±',
                'day3-optional2': 'â„ï¸ Kahraman ParÃ§alarÄ±',
                'day3-caution1': 'âš ï¸ Daha dÃ¼ÅŸÃ¼k canavarlara vurmayÄ±n â€“ kÃ¶tÃ¼ puanlar',
                'day3-caution2': 'âš ï¸ Topluluklara katÄ±lmak size sÄ±fÄ±r puan verir â€” ev sahibi olun ya da hiÃ§bir ÅŸey yapmayÄ±n',
                'day3-caution3': 'ğŸ›‘ Hala Evcil Hayvan YÃ¼kseltmelerini saklayÄ±n',
                'day4-title': 'âš”ï¸ 4. GÃ¼n â€“ Birlik EÄŸitimi GÃ¼nÃ¼',
                'day4-item1': 'â„ï¸ Birlik EÄŸit veya Terfi Ettir',
                'day4-item2': 'â„ï¸ Åef DiÅŸli TÄ±lsÄ±mlarÄ±',
                'day4-item3': 'â„ï¸ EÄŸitim HÄ±zlandÄ±rmalarÄ±',
                'day4-caution1': 'â³ BaÅŸlamadan Ã¶nce Birlik EÄŸitimi Takviyesi bekleyin',
                'day4-caution2': 'ğŸ›‘ Hala sakla: Evcil Hayvan YÃ¼kseltmeleri, Kahraman Ã–z TaÅŸlarÄ±, Kahraman Widget\'larÄ±, Åef DiÅŸli YÃ¼kseltmeleri, Arta Kalan AraÅŸtÄ±rma/Ä°nÅŸaat HÄ±zlandÄ±rmalarÄ±',
                'day5-title': 'ğŸ¯ 5. GÃ¼n â€“ Son HazÄ±rlÄ±k BoÅŸaltma',
                'day5-item1': 'â„ï¸ Åef DiÅŸli YÃ¼kseltmeleri',
                'day5-item2': 'â„ï¸ AraÅŸtÄ±rma (eÄŸer kaldÄ±ysa)',
                'day5-item3': 'â„ï¸ Kahraman Ã–z TaÅŸlarÄ±',
                'day5-item4': 'â„ï¸ Kahraman Widget\'larÄ±',
                'day5-item5': 'â„ï¸ Evcil Hayvan YÃ¼kseltmeleri',
                'day5-item6': 'â„ï¸ TÃœM kalan hÄ±zlandÄ±rmalar',
                'day5-final-push': 'ğŸ‰ Bu bÃ¼yÃ¼k son hamle. PuanlarÄ±nÄ±zÄ± maksimize edin. Her ÅŸeyinizi verin. ArtÄ±k bÄ±rakmayÄ±n. PiÅŸman olmayÄ±n.',
                'enlisted-survivors-title': 'ğŸ‘¥ KayÄ±tlÄ± Hayatta Kalanlar',
                'loading-participants': 'KatÄ±lÄ±mcÄ±lar yÃ¼kleniyor...',
                'success-message': 'âœ… BaÅŸarÄ±yla kaydoldunuz! SavaÅŸa hoÅŸ geldiniz, ',
                'error-slot-taken': 'Bu zaman dilimi zaten alÄ±ndÄ±. LÃ¼tfen baÅŸka bir tane seÃ§in.',
                'participant-card-name': 'Oyuncu AdÄ±:',
                'participant-card-id': 'Oyuncu KimliÄŸi:',
                'participant-card-time': 'Zaman Dilimi:'
            },
            fr: {
                'subtitle': 'Semaine de PrÃ©paration Ã‰tat contre Ã‰tat - Ralliez vos forces !',
                'countdown-before': 'Compte Ã  rebours avant le Jour 1 : <span style="color: #87ceeb;">{days}j {hours}h {minutes}m {seconds}s</span>',
                'countdown-active': 'ğŸ”¥ LA SEMAINE DE PRÃ‰PARATION EST ACTIVE ! Le Jour <span id="activeDayDisplay" style="color: #90ee90;"></span> est en direct !',
                'countdown-ended': 'La semaine de prÃ©paration est terminÃ©e. Bonne chance au combat !',
                'translator-title': 'ğŸŒ Traducteur de Langues',
                'translation-notice': 'âš ï¸ Traduction en cours... Veuillez patienter un instant.',
                'total-signups': 'Total des Inscriptions',
                'current-day-label': 'Jour actuel (UTC)',
                'time-slots-count': 'Plages horaires disponibles',
                'join-battle': 'ğŸ¯ Rejoignez la Bataille !',
                'time-slot': 'â° Plage horaire (UTC) :',
                'select-time-slot': 'SÃ©lectionnez votre plage horaire prÃ©fÃ©rÃ©e',
                'taken-slot': 'PRIS',
                'player-name': 'ğŸ·ï¸ Nom du joueur :',
                'player-name-placeholder': 'Entrez votre nom de survivant',
                'player-id': 'ğŸ†” ID du joueur :',
                'player-id-placeholder': 'Entrez votre ID de joueur',
                'enlist-btn': 'â„ï¸ EnrÃ´lez-vous pour la Bataille ! â„ï¸',
                'tab-instructions': 'ğŸ“‹ Instructions',
                'tab-participants': 'ğŸ‘¥ Participants',
                'svs-instructions-title': 'ğŸ“š Instructions de la Semaine de PrÃ©paration SVS (Ã‰tat de Puissance)',
                'general-rules-title': 'âš ï¸ RÃ¨gles GÃ©nÃ©rales',
                'general-rule1': 'â„ï¸ Attendez les CompÃ©tences du PrÃ©sident avant d\'utiliser des accÃ©lÃ©rations ou des amÃ©liorations',
                'general-rule2': 'â„ï¸ Ã‰conomisez l\'endurance pour le Jour 3 Chasse aux BÃªtes',
                'general-rule3': 'â„ï¸ Ã‰conomisez les AmÃ©liorations d\'Animaux pour le Jour 5',
                'use-items-label': 'Utiliser :',
                'optional-label': 'Optionnel :',
                'day1-title': 'ğŸ§± Jour 1 â€“ Jour de Construction',
                'day1-item1': 'â„ï¸ Cristaux de Feu',
                'day1-item2': 'â„ï¸ AccÃ©lÃ©rations de Construction',
                'day1-item3': 'â„ï¸ Charmes de Chef',
                'day1-caution': 'ğŸ›‘ Ne commencez pas tÃ´t â€” attendez le Buff de Construction du PrÃ©sident',
                'day2-title': 'ğŸ§  Jour 2 â€“ Jour de Recherche',
                'day2-item1': 'â„ï¸ AccÃ©lÃ©rations de Recherche (ok Ã  utiliser â€” attendez juste le buff !)',
                'day2-item2': 'â„ï¸ Tours de Roue de la Chance',
                'day2-item3': 'â„ï¸ Fragments de HÃ©ros',
                'day2-item4': 'â„ï¸ Collecte de Ressources',
                'day2-optional1': 'â„ï¸ Cristaux de Feu',
                'day2-caution1': 'ğŸ›‘ Ã‰conomisez les AmÃ©liorations d\'Animaux pour le Jour 5',
                'day2-caution2': 'ğŸ›‘ N\'appelez pas de rassemblements de bÃªtes â€” l\'Ã©vÃ©nement dure 48 heures. Gardez pour le Jour 3',
                'day3-title': 'ğŸ¾ Jour 3 â€“ Chasse aux BÃªtes (Jour MVP F2P)',
                'day3-item1': 'â„ï¸ Tuez des bÃªtes de niveau 26+ (10 d\'endurance = 12 000 pts)',
                'day3-item2': 'â„ï¸ Appelez des rassemblements de Terreur Polaire (25 d\'endurance = 30 000 pts)',
                'day3-item3': 'â„ï¸ DÃ©pensez toute l\'endurance Ã©conomisÃ©e',
                'day3-optional1': 'â„ï¸ Roue de la Chance',
                'day3-optional2': 'â„ï¸ Fragments de HÃ©ros',
                'day3-caution1': 'âš ï¸ Ne frappez PAS les bÃªtes infÃ©rieures â€“ mauvais points',
                'day3-caution2': 'âš ï¸ Rejoindre des rassemblements vous donne zÃ©ro point â€” hÃ´te ou rien',
                'day3-caution3': 'ğŸ›‘ Gardez toujours les AmÃ©liorations d\'Animaux',
                'day4-title': 'âš”ï¸ Jour 4 â€“ Jour d\'EntraÃ®nement des Troupes',
                'day4-item1': 'â„ï¸ EntraÃ®ner ou Promouvoir des Troupes',
                'day4-item2': 'â„ï¸ Charmes d\'Ã‰quipement de Chef',
                'day4-item3': 'â„ï¸ AccÃ©lÃ©rations d\'EntraÃ®nement',
                'day4-caution1': 'â³ Attendez le Buff d\'EntraÃ®nement des Troupes avant de commencer',
                'day4-caution2': 'ğŸ›‘ Gardez toujours : AmÃ©liorations d\'Animaux, Pierres d\'Essence de HÃ©ros, Widgets de HÃ©ros, AmÃ©liorations d\'Ã‰quipement de Chef, AccÃ©lÃ©rations de Recherche/Construction restantes',
                'day5-title': 'ğŸ¯ Jour 5 â€“ Dernier Grand DÃ©versement de PrÃ©paration',
                'day5-item1': 'â„ï¸ AmÃ©liorations d\'Ã‰quipement de Chef',
                'day5-item2': 'â„ï¸ Recherche (s\'il reste quelque chose)',
                'day5-item3': 'â„ï¸ Pierres d\'Essence de HÃ©ros',
                'day5-item4': 'â„ï¸ Widgets de HÃ©ros',
                'day5-item5': 'â„ï¸ AmÃ©liorations d\'Animaux',
                'day5-item6': 'â„ï¸ TOUTES les accÃ©lÃ©rations restantes',
                'day5-final-push': 'ğŸ‰ C\'est la grande derniÃ¨re poussÃ©e. Maximisez vos points. Allez-y Ã  fond. Pas de restes. Pas de regrets.',
                'enlisted-survivors-title': 'ğŸ‘¥ Survivants EnrÃ´lÃ©s',
                'loading-participants': 'Chargement des participants...',
                'success-message': 'âœ… EnrÃ´lement rÃ©ussi ! Bienvenue au combat, ',
                'error-slot-taken': 'Cette plage horaire est dÃ©jÃ  prise. Veuillez en choisir une autre.',
                'participant-card-name': 'Nom du joueur :',
                'participant-card-id': 'ID du joueur :',
                'participant-card-time': 'Plage horaire :'
            },
            es: {
                'subtitle': 'Semana de PreparaciÃ³n de Estado contra Estado - Â¡ReÃºne tus fuerzas!',
                'countdown-before': 'Cuenta regresiva para el DÃ­a 1: <span style="color: #87ceeb;">{days}d {hours}h {minutes}m {seconds}s</span>',
                'countdown-active': 'ğŸ”¥ Â¡LA SEMANA DE PREPARACIÃ“N ESTÃ ACTIVA! El DÃ­a <span id="activeDayDisplay" style="color: #90ee90;"></span> estÃ¡ en vivo.',
                'countdown-ended': 'La Semana de PreparaciÃ³n ha terminado. Â¡Mucha suerte en la batalla!',
                'translator-title': 'ğŸŒ Traductor de Idiomas',
                'translation-notice': 'âš ï¸ TraducciÃ³n en curso... Por favor, espere un momento.',
                'total-signups': 'Total de Registros',
                'current-day-label': 'DÃ­a Actual (UTC)',
                'time-slots-count': 'Franjas Horarias Disponibles',
                'join-battle': 'ğŸ¯ Â¡Ãšnete a la Batalla!',
                'time-slot': 'â° Franja Horaria (UTC):',
                'select-time-slot': 'Selecciona tu franja horaria preferida',
                'taken-slot': 'OCUPADO',
                'player-name': 'ğŸ·ï¸ Nombre del Jugador:',
                'player-name-placeholder': 'Ingresa tu nombre de superviviente',
                'player-id': 'ğŸ†” ID del Jugador:',
                'player-id-placeholder': 'Ingresa tu ID de jugador',
                'enlist-btn': 'â„ï¸ Â¡AlÃ­state para la Batalla! â„ï¸',
                'tab-instructions': 'ğŸ“‹ Instrucciones',
                'tab-participants': 'ğŸ‘¥ Participantes',
                'svs-instructions-title': 'ğŸ“š Instrucciones de la Semana de PreparaciÃ³n SVS (Estado de Poder)',
                'general-rules-title': 'âš ï¸ Reglas Generales',
                'general-rule1': 'â„ï¸ Espera las Habilidades del Presidente antes de usar aceleraciones o mejoras',
                'general-rule2': 'â„ï¸ Guarda energÃ­a para la Caza de Bestias del DÃ­a 3',
                'general-rule3': 'â„ï¸ Guarda las Mejoras de Mascotas para el DÃ­a 5',
                'use-items-label': 'Usar:',
                'optional-label': 'Opcional:',
                'day1-title': 'ğŸ§± DÃ­a 1 â€“ DÃ­a de ConstrucciÃ³n',
                'day1-item1': 'â„ï¸ Cristales de Fuego',
                'day1-item2': 'â„ï¸ Aceleraciones de ConstrucciÃ³n',
                'day1-item3': 'â„ï¸ Amuletos de Jefe',
                'day1-caution': 'ğŸ›‘ No empieces temprano â€” espera el Buff de ConstrucciÃ³n del Presidente',
                'day2-title': 'ğŸ§  DÃ­a 2 â€“ DÃ­a de InvestigaciÃ³n',
                'day2-item1': 'â„ï¸ Aceleraciones de InvestigaciÃ³n (ok para usar â€” Â¡solo espera el buff!)',
                'day2-item2': 'â„ï¸ Giros de la Ruleta de la Suerte',
                'day2-item3': 'â„ï¸ Fragmentos de HÃ©roe',
                'day2-item4': 'â„ï¸ RecolecciÃ³n de Recursos',
                'day2-optional1': 'â„ï¸ Cristales de Fuego',
                'day2-caution1': 'ğŸ›‘ Guarda las Mejoras de Mascotas para el DÃ­a 5',
                'day2-caution2': 'ğŸ›‘ No hagas Rallies de bestias â€” el evento dura 48 horas. Guarda para el DÃ­a 3',
                'day3-title': 'ğŸ¾ DÃ­a 3 â€“ Caza de Bestias (DÃ­a MVP F2P)',
                'day3-item1': 'â„ï¸ Mata bestias Lv.26+ (10 de energÃ­a = 12,000 pts)',
                'day3-item2': 'â„ï¸ Haz Rallies de Terror Polar (25 de energÃ­a = 30,000 pts)',
                'day3-item3': 'â„ï¸ Gasta toda la energÃ­a guardada',
                'day3-optional1': 'â„ï¸ Ruleta de la Suerte',
                'day3-optional2': 'â„ï¸ Fragmentos de HÃ©roe',
                'day3-caution1': 'âš ï¸ NO ataques bestias de nivel inferior â€“ malos puntos',
                'day3-caution2': 'âš ï¸ Unirte a Rallies te da cero puntos â€” organiza o nada',
                'day3-caution3': 'ğŸ›‘ TodavÃ­a guarda Mejoras de Mascotas',
                'day4-title': 'âš”ï¸ DÃ­a 4 â€“ DÃ­a de Entrenamiento de Tropas',
                'day4-item1': 'â„ï¸ Entrena o Promociona Tropas',
                'day4-item2': 'â„ï¸ Amuletos de Equipo de Jefe',
                'day4-item3': 'â„ï¸ Aceleraciones de Entrenamiento',
                'day4-caution1': 'â³ Espera el Buff de Entrenamiento de Tropas antes de empezar',
                'day4-caution2': 'ğŸ›‘ TodavÃ­a guarda: Mejoras de Mascotas, Piedras de Esencia de HÃ©roe, Widgets de HÃ©roe, Mejoras de Equipo de Jefe, Aceleraciones de InvestigaciÃ³n/ConstrucciÃ³n restantes',
                'day5-title': 'ğŸ¯ DÃ­a 5 â€“ Vaciado Final de PreparaciÃ³n',
                'day5-item1': 'â„ï¸ Mejoras de Equipo de Jefe',
                'day5-item2': 'â„ï¸ InvestigaciÃ³n (si queda algo)',
                'day5-item3': 'â„ï¸ Piedras de Esencia de HÃ©roe',
                'day5-item4': 'â„ï¸ Widgets de HÃ©roe',
                'day5-item5': 'â„ï¸ Mejoras de Mascotas',
                'day5-item6': 'â„ï¸ TODAS las aceleraciones restantes',
                'day5-final-push': 'ğŸ‰ Este es el gran empujÃ³n final. Maximiza tus puntos. Ve con todo. Sin sobras. Sin arrepentimientos.',
                'enlisted-survivors-title': 'ğŸ‘¥ Supervivientes Alistados',
                'loading-participants': 'Cargando participantes...',
                'success-message': 'âœ… Â¡Alistado con Ã©xito! Bienvenido a la batalla, ',
                'error-slot-taken': 'Esta franja horaria ya estÃ¡ ocupada. Por favor, elige otra.',
                'participant-card-name': 'Nombre del Jugador:',
                'participant-card-id': 'ID del Jugador:',
                'participant-card-time': 'Franja Horaria:'
            },
            'zh-TW': {
                'subtitle': 'åœ‹å®¶å°åœ‹å®¶å‚™æˆ°é€± - é›†çµæ‚¨çš„éƒ¨éšŠï¼',
                'countdown-before': 'è·é›¢ç¬¬1å¤©å€’æ•¸ï¼š<span style="color: #87ceeb;">{days}å¤© {hours}å°æ™‚ {minutes}åˆ†é˜ {seconds}ç§’</span>',
                'countdown-active': 'ğŸ”¥ å‚™æˆ°é€±æ­£åœ¨é€²è¡Œä¸­ï¼ç¬¬ <span id="activeDayDisplay" style="color: #90ee90;"></span> å¤©é–‹å§‹ï¼',
                'countdown-ended': 'å‚™æˆ°é€±å·²çµæŸã€‚ç¥æ‚¨æˆ°é¬¥å¥½é‹ï¼',
                'translator-title': 'ğŸŒ èªè¨€ç¿»è­¯å™¨',
                'translation-notice': 'âš ï¸ ç¿»è­¯ä¸­...è«‹ç¨å€™ã€‚',
                'total-signups': 'ç¸½å ±åäººæ•¸',
                'current-day-label': 'ç•¶å‰æ—¥æœŸ (UTC)',
                'time-slots-count': 'å¯ç”¨æ™‚é–“æ®µ',
                'join-battle': 'ğŸ¯ åŠ å…¥æˆ°é¬¥ï¼',
                'time-slot': 'â° æ™‚é–“æ®µ (UTC)ï¼š',
                'select-time-slot': 'é¸æ“‡æ‚¨åå¥½çš„æ™‚é–“æ®µ',
                'taken-slot': 'å·²ä½”ç”¨',
                'player-name': 'ğŸ·ï¸ ç©å®¶åç¨±ï¼š',
                'player-name-placeholder': 'è¼¸å…¥æ‚¨çš„å€–å­˜è€…åç¨±',
                'player-id': 'ğŸ†” ç©å®¶IDï¼š',
                'player-id-placeholder': 'è¼¸å…¥æ‚¨çš„ç©å®¶ID',
                'enlist-btn': 'â„ï¸ åƒæˆ°ï¼ â„ï¸',
                'tab-instructions': 'ğŸ“‹ æŒ‡ç¤º',
                'tab-participants': 'ğŸ‘¥ åƒèˆ‡è€…',
                'svs-instructions-title': 'ğŸ“š SVSå‚™æˆ°é€±æŒ‡ç¤º (æ¬ŠåŠ›ç‹€æ…‹)',
                'general-rules-title': 'âš ï¸ ä¸€èˆ¬è¦å‰‡',
                'general-rule1': 'â„ï¸ åœ¨ä½¿ç”¨ä»»ä½•åŠ é€Ÿæˆ–å‡ç´šå‰ï¼Œè«‹ç­‰å¾…ç¸½çµ±æŠ€èƒ½',
                'general-rule2': 'â„ï¸ å°‡é«”åŠ›ä¿ç•™è‡³ç¬¬3å¤©çµæ®ºé‡ç¸',
                'general-rule3': 'â„ï¸ å°‡å¯µç‰©å‡ç´šä¿ç•™è‡³ç¬¬5å¤©',
                'use-items-label': 'ä½¿ç”¨ï¼š',
                'optional-label': 'å¯é¸ï¼š',
                'day1-title': 'ğŸ§± ç¬¬1å¤© â€“ å»ºç¯‰æ—¥',
                'day1-item1': 'â„ï¸ ç«ç„°æ°´æ™¶',
                'day1-item2': 'â„ï¸ å»ºç¯‰åŠ é€Ÿ',
                'day1-item3': 'â„ï¸ é…‹é•·é­…åŠ›',
                'day1-caution': 'ğŸ›‘ ä¸è¦ææ—©é–‹å§‹ â€” ç­‰å¾…ç¸½çµ±çš„å»ºç¯‰å¢ç›Š',
                'day2-title': 'ğŸ§  ç¬¬2å¤© â€“ ç ”ç©¶æ—¥',
                'day2-item1': 'â„ï¸ ç ”ç©¶åŠ é€Ÿ (å¯ä»¥ä½¿ç”¨ â€” åªæ˜¯ç­‰å¾…å¢ç›Šï¼)',
                'day2-item2': 'â„ï¸ å¹¸é‹è¼ªç›¤è½‰å‹•',
                'day2-item3': 'â„ï¸ è‹±é›„ç¢ç‰‡',
                'day2-item4': 'â„ï¸ è³‡æºæ¡é›†',
                'day2-optional1': 'â„ï¸ ç«ç„°æ°´æ™¶',
                'day2-caution1': 'ğŸ›‘ å°‡å¯µç‰©å‡ç´šä¿ç•™è‡³ç¬¬5å¤©',
                'day2-caution2': 'ğŸ›‘ ä¸è¦å¬å–šé‡ç¸é›†çµ â€” æ´»å‹•æŒçºŒ48å°æ™‚ã€‚ä¿ç•™è‡³ç¬¬3å¤©',
                'day3-title': 'ğŸ¾ ç¬¬3å¤© â€“ çµæ®ºé‡ç¸ (F2P MVPæ—¥)',
                'day3-item1': 'â„ï¸ æ“Šæ®º26ç´šä»¥ä¸Šé‡ç¸ (10é«”åŠ› = 12,000åˆ†)',
                'day3-item2': 'â„ï¸ å¬å–šæ¥µåœ°ææ‡¼é›†çµ (25é«”åŠ› = 30,000åˆ†)',
                'day3-item3': 'â„ï¸ è€—ç›¡æ‰€æœ‰å„²å­˜çš„é«”åŠ›',
                'day3-optional1': 'â„ï¸ å¹¸é‹è¼ªç›¤',
                'day3-optional2': 'â„ï¸ è‹±é›„ç¢ç‰‡',
                'day3-caution1': 'âš ï¸ ä¸è¦æ“Šæ®ºè¼ƒä½ç­‰ç´šé‡ç¸ â€“ åˆ†æ•¸å¾ˆå·®',
                'day3-caution2': 'âš ï¸ åŠ å…¥é›†çµä¸æœƒçµ¦æ‚¨åˆ†æ•¸ â€” è¦éº¼æ˜¯ä¸»è¾¦äººï¼Œè¦éº¼ä»€éº¼éƒ½æ²’æœ‰',
                'day3-caution3': 'ğŸ›‘ ä»ç„¶ä¿ç•™å¯µç‰©å‡ç´š',
                'day4-title': 'âš”ï¸ ç¬¬4å¤© â€“ éƒ¨éšŠè¨“ç·´æ—¥',
                'day4-item1': 'â„ï¸ è¨“ç·´æˆ–æ™‰å‡éƒ¨éšŠ',
                'day4-item2': 'â„ï¸ é…‹é•·è£å‚™é­…åŠ›',
                'day4-item3': 'â„ï¸ è¨“ç·´åŠ é€Ÿ',
                'day4-caution1': 'â³ é–‹å§‹å‰ç­‰å¾…éƒ¨éšŠè¨“ç·´å¢ç›Š',
                'day4-caution2': 'ğŸ›‘ ä»ç„¶ä¿ç•™ï¼šå¯µç‰©å‡ç´šã€è‹±é›„ç²¾è¯çŸ³ã€è‹±é›„éƒ¨ä»¶ã€é…‹é•·è£å‚™å‡ç´šã€å‰©é¤˜ç ”ç©¶/å»ºç¯‰åŠ é€Ÿ',
                'day5-title': 'ğŸ¯ ç¬¬5å¤© â€“ æœ€å¾Œå‚™æˆ°è¡åˆº',
                'day5-item1': 'â„ï¸ é…‹é•·è£å‚™å‡ç´š',
                'day5-item2': 'â„ï¸ ç ”ç©¶ (å¦‚æœé‚„æœ‰å‰©é¤˜)',
                'day5-item3': 'â„ï¸ è‹±é›„ç²¾è¯çŸ³',
                'day5-item4': 'â„ï¸ è‹±é›„éƒ¨ä»¶',
                'day5-item5': 'â„ï¸ å¯µç‰©å‡ç´š',
                'day5-item6': 'â„ï¸ æ‰€æœ‰å‰©é¤˜åŠ é€Ÿ',
                'day5-final-push': 'ğŸ‰ é€™æ˜¯æœ€å¾Œçš„å¤§è¡åˆºã€‚æœ€å¤§åŒ–æ‚¨çš„åˆ†æ•¸ã€‚å…¨åŠ›ä»¥èµ´ã€‚ä¸ç•™éºæ†¾ã€‚',
                'enlisted-survivors-title': 'ğŸ‘¥ å·²å ±åå€–å­˜è€…',
                'loading-participants': 'æ­£åœ¨è¼‰å…¥åƒèˆ‡è€…...',
                'success-message': 'âœ… æˆåŠŸå ±åï¼æ­¡è¿åŠ å…¥æˆ°é¬¥ï¼Œ',
                'error-slot-taken': 'æ­¤æ™‚é–“æ®µå·²è¢«ä½”ç”¨ã€‚è«‹é¸æ“‡å¦ä¸€å€‹ã€‚',
                'participant-card-name': 'ç©å®¶åç¨±ï¼š',
                'participant-card-id': 'ç©å®¶IDï¼š',
                'participant-card-time': 'æ™‚é–“æ®µï¼š'
            }
        };

        let currentLanguage = 'en'; // Default language
        let participants = []; // This will now store data fetched from Google Sheet

        // Function to create falling snowflakes
        function createSnowflake() {
            const snowContainer = document.getElementById('snow');
            const snowflake = document.createElement('span');
            snowflake.classList.add('snowflake');
            snowflake.innerHTML = '&#10052;'; // Snowflake character
            snowflake.style.left = Math.random() * 100 + 'vw';
            snowflake.style.animationDuration = Math.random() * 3 + 2 + 's'; // 2 to 5 seconds
            snowflake.style.opacity = Math.random();
            snowflake.style.fontSize = Math.random() * 1 + 0.5 + 'em'; // 0.5 to 1.5em

            snowContainer.appendChild(snowflake);

            setTimeout(() => {
                snowflake.remove();
            }, parseFloat(snowflake.style.animationDuration) * 1000);
        }

        // Generate snowflakes
        setInterval(createSnowflake, 100);

        // Update countdown timer and current day instructions
        function updateCountdownAndInstructions() {
            const nowUTC = new Date(); // Current UTC time
            const countdownElement = document.getElementById('countdown');
            const currentDayStatElement = document.getElementById('currentDay');
            const dayInstructions = document.querySelectorAll('.day-instructions');

            // Calculate time remaining until Day 1
            const timeRemaining = dayOneUTC.getTime() - nowUTC.getTime();

            // Remove current-day class from all instructions initially
            dayInstructions.forEach(el => el.classList.remove('current-day'));

            if (timeRemaining > 0) {
                // Before Day 1 starts
                const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));
                const hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);

                countdownElement.innerHTML = translations[currentLanguage]['countdown-before']
                    .replace('{days}', days)
                    .replace('{hours}', hours)
                    .replace('{minutes}', minutes)
                    .replace('{seconds}', seconds);
                
                currentDayStatElement.textContent = '-'; // No specific day yet
                
                // No instructions are highlighted before Day 1
                document.querySelectorAll('.day-instructions').forEach(el => el.classList.remove('current-day'));
            } else {
                // Day 1 has started or passed
                const timeElapsedSinceDayOne = nowUTC.getTime() - dayOneUTC.getTime();
                const dayOffset = Math.floor(timeElapsedSinceDayOne / (1000 * 60 * 60 * 24)); // Days passed since Day 1 started (0-indexed)

                if (dayOffset >= 0 && dayOffset < prepWeekDurationDays) {
                    // Prep week is active
                    const activeDay = dayOffset + 1; // Convert to 1-indexed day number
                    countdownElement.innerHTML = translations[currentLanguage]['countdown-active'];
                    document.getElementById('activeDayDisplay').textContent = activeDay;
                    currentDayStatElement.textContent = activeDay;

                    // Highlight the current day's instructions
                    const currentDayId = `day${activeDay}`;
                    const currentDayElement = document.getElementById(currentDayId);
                    if (currentDayElement) {
                        currentDayElement.classList.add('current-day');
                    }
                } else {
                    // Prep week has ended
                    countdownElement.textContent = translations[currentLanguage]['countdown-ended'];
                    currentDayStatElement.textContent = '-'; // Or "Ended"

                    // Ensure no instruction sets are highlighted
                    dayInstructions.forEach(el => el.classList.remove('current-day'));
                }
            }
            applyTranslations(); // Ensure all elements are translated with each update
        }

        // Function to apply translations
        function applyTranslations() {
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                let translatedText = translations[currentLanguage][key];
                
                // Special handling for countdown if it contains dynamic values
                // The countdown's innerHTML is directly managed by updateCountdownAndInstructions,
                // so we skip it here to prevent overwriting
                if (key === 'countdown-before' || key === 'countdown-active' || key === 'countdown-ended') {
                    return; 
                }
                
                // For input placeholders
                if (element.tagName === 'INPUT' && element.hasAttribute('placeholder')) {
                    element.setAttribute('placeholder', translatedText);
                } else if (element.tagName === 'OPTION' && element.value === "") { // For select's default option
                    element.textContent = translatedText;
                }
                else {
                    element.innerHTML = translatedText; // Use innerHTML for rich text (e.g., span for highlighting)
                }
            });

            // Update language buttons active state
            document.querySelectorAll('.language-btn').forEach(btn => {
                if (btn.id === `lang-${currentLanguage}`) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
        }

        // Function to change language
        async function translatePage(lang) {
            currentLanguage = lang;
            localStorage.setItem('selectedLanguage', lang); // Save selected language

            const translationNotice = document.getElementById('translationNotice');
            translationNotice.style.display = 'block'; // Show notice

            // Simulate translation delay for better UX
            await new Promise(resolve => setTimeout(resolve, 500)); 

            applyTranslations();
            updateCountdownAndInstructions(); // Re-run countdown to ensure correct active day display after language change
            generateTimeSlots(); // Re-generate time slots in new language
            loadParticipants(); // Re-load participants to apply new language if needed (data will be fetched from GS)

            translationNotice.style.display = 'none'; // Hide notice
        }

        // Tab switching logic
        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(tabId).classList.add('active');

            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`.tab[onclick="showTab('${tabId}')"]`).classList.add('active');
        }

        // Function to generate time slots (every 30 minutes)
        function generateTimeSlots() {
            const timeSlotSelect = document.getElementById('timeSlot');
            timeSlotSelect.innerHTML = `<option value="" disabled selected>${translations[currentLanguage]['select-time-slot']}</option>`; // Default option

            for (let i = 0; i < 24 * 2; i++) { // 24 hours * 2 (for 00 and 30 minutes)
                const hour = Math.floor(i / 2);
                const minute = (i % 2) * 30;
                
                const time = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')} UTC`;
                const option = document.createElement('option');
                option.value = time;
                option.textContent = time;

                // Check if this time slot is taken from the fetched participants array
                const isTaken = participants.some(p => p.timeSlot === time);
                if (isTaken) {
                    option.disabled = true;
                    option.textContent = `${time} (${translations[currentLanguage]['taken-slot']})`;
                }
                timeSlotSelect.appendChild(option);
            }
             // Update the "Time Slots Available" count in the stats section
            document.getElementById('availableTimeSlots').textContent = (24 * 2) - participants.length;
        }

        // Function to load and display participants from Google Sheet
        async function loadParticipants() {
            const participantGrid = document.getElementById('participantGrid');
            participantGrid.innerHTML = ''; // Clear existing participants
            participantGrid.innerHTML = `<div class="loading" data-translate="loading-participants">${translations[currentLanguage]['loading-participants']}</div>`;

            if (GOOGLE_APPS_SCRIPT_URL === 'YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL_HERE' || !GOOGLE_APPS_SCRIPT_URL) {
                participantGrid.innerHTML = `<div class="error">Error: Google Apps Script URL not configured. Please set GOOGLE_APPS_SCRIPT_URL in the script.</div>`;
                document.getElementById('totalSignups').textContent = 0;
                document.getElementById('availableTimeSlots').textContent = 48; // Assume all available if no data can be fetched
                return;
            }

            try {
                const response = await fetch(GOOGLE_APPS_SCRIPT_URL);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                participants = await response.json(); // Update the global participants array

                participantGrid.innerHTML = ''; // Clear loading message

                // Sort participants by time slot for better readability
                const sortedParticipants = [...participants].sort((a, b) => {
                    const [hourA, minuteA] = a.timeSlot.split(':')[0].split(':').map(Number);
                    const [hourB, minuteB] = b.timeSlot.split(':')[0].split(':').map(Number);
                    
                    if (hourA !== hourB) return hourA - hourB;
                    return minuteA - minuteB;
                });

                if (sortedParticipants.length === 0) {
                    const loadingDiv = document.createElement('div');
                    loadingDiv.classList.add('loading');
                    loadingDiv.textContent = translations[currentLanguage]['loading-participants'];
                    participantGrid.appendChild(loadingDiv);
                    document.getElementById('totalSignups').textContent = 0;
                } else {
                    sortedParticipants.forEach(p => {
                        const card = document.createElement('div');
                        card.classList.add('participant-card');
                        card.innerHTML = `
                            <p><strong>${translations[currentLanguage]['participant-card-name']}</strong> ${p.playerName}</p>
                            <p><strong>${translations[currentLanguage]['participant-card-id']}</strong> ${p.playerId}</p>
                            <p><strong>${translations[currentLanguage]['participant-card-time']}</strong> ${p.timeSlot}</p>
                        `;
                        participantGrid.appendChild(card);
                    });
                }
                
                // Update total signups count and available slots
                document.getElementById('totalSignups').textContent = participants.length;
                document.getElementById('availableTimeSlots').textContent = (24 * 2) - participants.length;

                generateTimeSlots(); // Re-generate to update disabled slots based on fetched data

            } catch (error) {
                console.error('Error loading participants:', error);
                participantGrid.innerHTML = `<div class="error">Error loading participants: ${error.message}. Make sure your Google Apps Script is correctly deployed and accessible.</div>`;
                document.getElementById('totalSignups').textContent = 0;
                document.getElementById('availableTimeSlots').textContent = 48;
            }
        }

        // Handle form submission
        document.getElementById('signupForm').addEventListener('submit', async function(event) {
            event.preventDefault(); // Prevent default form submission

            const timeSlot = document.getElementById('timeSlot').value;
            const playerName = document.getElementById('playerName').value;
            const playerId = document.getElementById('playerId').value;
            const messageDiv = document.getElementById('message');
            messageDiv.textContent = ''; // Clear previous messages
            messageDiv.className = ''; // Clear previous styles

            if (GOOGLE_APPS_SCRIPT_URL === 'YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL_HERE' || !GOOGLE_APPS_SCRIPT_URL) {
                messageDiv.className = 'error';
                messageDiv.textContent = 'https://script.google.com/macros/s/AKfycbze2zKdlv7ErGvj7XdmdO0eVMcqdQibTtdYVexOAycmlaHs7xfqUfhc9H_ZYVgoKMvl/exec';
                return;
            }

            // Client-side check based on currently loaded participants (for quick feedback)
            const isSlotTakenClientSide = participants.some(p => p.timeSlot === timeSlot);
            if (isSlotTakenClientSide) {
                messageDiv.className = 'error';
                messageDiv.style.backgroundColor = 'rgba(255, 107, 107, 0.2)';
                messageDiv.style.borderColor = '#ff6b6b';
                messageDiv.style.color = '#ff6b6b';
                messageDiv.textContent = translations[currentLanguage]['error-slot-taken'];
                return;
            }

            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = true; // Disable button to prevent double submission
            submitBtn.textContent = 'Submitting...';

            try {
                const response = await fetch(GOOGLE_APPS_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'cors', // Crucial for cross-origin requests to Apps Script
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        timeSlot: timeSlot,
                        playerName: playerName,
                        playerId: playerId
                    })
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const result = await response.json();

                if (result.success) {
                    messageDiv.className = 'success';
                    messageDiv.style.backgroundColor = 'rgba(144, 238, 144, 0.2)';
                    messageDiv.style.borderColor = '#90ee90';
                    messageDiv.style.color = '#90ee90';
                    messageDiv.textContent = translations[currentLanguage]['success-message'] + playerName + '!';
                    
                    this.reset(); // Clear the form
                    await loadParticipants(); // Reload participants from Google Sheet to get the latest data
                } else {
                    messageDiv.className = 'error';
                    messageDiv.style.backgroundColor = 'rgba(255, 107, 107, 0.2)';
                    messageDiv.style.borderColor = '#ff6b6b';
                    messageDiv.style.color = '#ff6b6b';
                    // Use server's error message if available, otherwise a generic one
                    messageDiv.textContent = result.message || 'Signup failed. Please try again.'; 
                }
            } catch (error) {
                console.error('Error submitting form:', error);
                messageDiv.className = 'error';
                messageDiv.style.backgroundColor = 'rgba(255, 107, 107, 0.2)';
                messageDiv.style.borderColor = '#ff6b6b';
                messageDiv.style.color = '#ff6b6b';
                messageDiv.textContent = `An error occurred: ${error.message}. Please check your network or try again.`;
            } finally {
                submitBtn.disabled = false; // Re-enable button
                submitBtn.textContent = translations[currentLanguage]['enlist-btn'];
            }
        });

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', async () => {
            // Set initial language from local storage or default to 'en'
            const savedLang = localStorage.getItem('selectedLanguage');
            if (savedLang && translations[savedLang]) {
                currentLanguage = savedLang;
            } else {
                currentLanguage = 'en'; // Fallback to English
            }
            translatePage(currentLanguage); // Apply initial translations and active button state
            
            // Load participants from Google Sheet first
            await loadParticipants(); 
            
            generateTimeSlots(); // Populate time slots based on loaded participants
            updateCountdownAndInstructions(); // Start the countdown and instruction highlighting

            // Update countdown and instructions every second
            setInterval(updateCountdownAndInstructions, 1000);
        });
    </script>
</body>
</html>